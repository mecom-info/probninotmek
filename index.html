<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—è –ú–ï–ö–û–ú ‚Äî —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –∏–≥—Ä–∞ –ú–≠–ö–û–ú</title>
<meta name="description" content="–ú–≠–ö–û–ú ‚Äî —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –∏–≥—Ä—ã –º–µ–∂–¥—É –∫–ª–∞—Å—Å–∞–º–∏ (7‚Äì11). –ü—Ä–∞–≤–∏–ª–∞, —Å–µ—Ç–∫—É, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è." />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  /*
    –ü–æ–ª–Ω–∞—è, —É–ª—É—á—à–µ–Ω–Ω–∞—è –∏ –µ–¥–∏–Ω–∞—è –≤–µ—Ä—Å–∏—è.
    –ò–∑–º–µ–Ω–µ–Ω–∏—è/—Ü–µ–ª–∏:
      - max-width —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ 1200px –∫–∞–∫ —Ç—ã –ø—Ä–æ—Å–∏–ª.
      - –ü–æ–≤–µ–¥–µ–Ω–∏–µ floaters –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø–æ–∑–∞–¥–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –Ω–µ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Ç–µ–∫—Å—Ç.
      - –î–æ–ø. –º–µ–¥–∏–∞–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è "–∫—Ä—É–ø–Ω—ã—Ö" —ç–∫—Ä–∞–Ω–æ–≤.
      - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ prefers-reduced-motion.
      - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ HTML/JS ‚Äî –ª–æ–≥–∏–∫–∞ —Å–µ—Ç–∫–∏ –æ—Å—Ç–∞–≤–ª–µ–Ω–∞.
  */

  :root{
    --bg:#f7fbff;
    --blue:#005BFF;
    --blue-2:#2b7bff;
    --soft:#A7D8FF;
    --muted:#6b7280;
    --card:#ffffff;
    --glass: rgba(255,255,255,0.8);
    --radius:14px;
    --maxwidth:1200px; /* –∏–∑–º–µ–Ω–µ–Ω–∏–µ: 1200px —Ä–∞–º–∫–∞ —Å–∞–π—Ç–∞ */
    --site-padding:18px;
    --base-font-size:15px;
    --ui-radius:12px;
  }

  /* Base sizing & reset */
  html { font-size: var(--base-font-size); box-sizing: border-box; }
  *,*::before,*::after{ box-sizing: inherit; }
  html,body{height:100%}
  body{
    margin:0;
    font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;
    background: linear-gradient(180deg,var(--bg),#ffffff);
    color:#0b1220;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.45;
    -webkit-tap-highlight-color:transparent;
  }
  a{color:inherit;text-decoration:none}
  img{max-width:100%;height:auto;display:block}
  .wrap{max-width:var(--maxwidth);margin:0 auto;padding:var(--site-padding);box-sizing:border-box}

  /* ---------- HERO ---------- */
  header.hero{
    position:relative;
    overflow:hidden;
    border-radius:18px;
    padding:18px;
    background:
      radial-gradient(600px 120px at -10% 0%, rgba(37,98,255,0.06), transparent 6%),
      linear-gradient(180deg, rgba(8,36,102,0.04), rgba(255,255,255,0.9));
    box-shadow:0 8px 30px rgba(12,24,60,0.06);
    min-height:110px;
  }
  /* Keep hero content above floaters */
  .hero-row{display:flex;gap:12px;align-items:center;position:relative; z-index:2}
  .logo{
    width:72px;height:72px;border-radius:14px;background:linear-gradient(135deg,var(--blue),var(--blue-2));
    display:flex;align-items:center;justify-content:center;color:white;font-weight:800;font-size:20px;
    flex-shrink:0;box-shadow:0 6px 18px rgba(41,82,255,0.16);
    transform-origin:center; animation:logo-bob 3s ease-in-out infinite;
  }
  @keyframes logo-bob{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
  .hero h1{font-size:18px;margin:0;color:var(--blue);letter-spacing:-0.2px}
  .hero .tag{margin-top:6px;color:var(--muted);font-size:13px}
  .hero .ctas{display:flex;gap:10px;margin-top:10px}
  .btn{
    display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;font-weight:700;font-size:14px;
    cursor:pointer;border:0;box-shadow:0 8px 24px rgba(10,30,120,0.06);
    align-self:flex-start;
  }
  .btn:focus{ outline: none; box-shadow: 0 0 0 4px rgba(0,91,255,0.10); }
  .btn-primary{background:linear-gradient(90deg,var(--blue),var(--blue-2));color:white; animation:btn-glow 2.4s infinite;}
  @keyframes btn-glow{0%{box-shadow:0 8px 20px rgba(0,91,255,0.14)}50%{box-shadow:0 14px 30px rgba(0,91,255,0.22)}100%{box-shadow:0 8px 20px rgba(0,91,255,0.14)}}
  .btn-ghost{background:#fff;border:1px solid rgba(10,40,120,0.06);color:var(--muted)}

  /* ---------- FLOATERS (behind content) ---------- */
  .floaters{
    position:absolute;
    inset:0;
    pointer-events:none;
    overflow:hidden;
    z-index:0; /* strictly behind hero content */
    transition:opacity .28s ease, transform .28s ease;
  }
  .floaters.hidden { opacity:0; transform: translateY(6px); pointer-events:none; }
  .riff {
    position:absolute;width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;
    background:linear-gradient(180deg,var(--soft),#e6f3ff);color:var(--blue);opacity:0.95;box-shadow:0 6px 18px rgba(10,30,100,0.08);
    transform-origin:center;
    will-change:transform;
    pointer-events:none;
  }
  .riff.small{width:34px;height:34px}
  @keyframes riff-float {0%{transform:translateY(0) rotate(0)}50%{transform:translateY(-12px) rotate(8deg)}100%{transform:translateY(0) rotate(0)}}

  /* ---------- SECTIONS ---------- */
  section{margin-top:18px;padding:16px;border-radius:14px;background:var(--card);box-shadow:0 8px 26px rgba(12,24,56,0.04)}
  h2{margin:0 0 8px 0;font-size:16px;color:var(--blue)}
  p.muted{color:var(--muted);font-size:13px;margin:0}
  .cols{display:grid;grid-template-columns:1fr;gap:12px}
  @media(min-width:720px){ .cols{grid-template-columns:1fr 360px} }

  /* ---------- HOW TO PLAY (cards) ---------- */
  .steps{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
  @media(max-width:480px){ .steps{grid-template-columns:1fr} }
  .card{
    background:linear-gradient(180deg,#fff,#fbfdff);
    padding:12px;border-radius:12px;border:1px solid rgba(10,40,120,0.04);
    display:flex;gap:10px;align-items:flex-start;transition:transform .28s ease, box-shadow .28s ease;
  }
  .card:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(30,60,140,0.08)}
  .icon{
    width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,var(--blue),var(--soft));display:flex;align-items:center;justify-content:center;color:white;font-weight:700;
    box-shadow:0 10px 24px rgba(10,60,200,0.08);flex-shrink:0;
  }
  .card h3{margin:0;font-size:15px;color:#0b234d}
  .card p{margin:6px 0 0 0;color:var(--muted);font-size:13px}

  /* nested list in step 3 */
  .strategy{margin-top:8px;padding-left:12px}
  .strategy li{margin:6px 0;color:var(--muted);font-size:13px;line-height:1.4}

  /* ---------- PRIZES TABLE ---------- */
  table{width:100%;border-collapse:collapse;font-size:14px}
  thead td{background:linear-gradient(90deg,var(--blue),var(--blue-2));color:white;padding:10px;border-radius:8px 8px 0 0;font-weight:700}
  tbody td{padding:12px;border-bottom:1px dashed rgba(10,30,80,0.04)}
  .amount{font-weight:800;text-align:right;color:var(--blue-2);font-variant-numeric:tabular-nums}

  /* ---------- PRIZES SECTION ---------- */
  .prizes-section{
    background: linear-gradient(90deg,var(--blue),var(--blue-2));
    color: #fff;
    border-radius:12px;
    padding:12px;
    box-shadow:0 12px 34px rgba(10,30,80,0.08);
    margin-top:12px;
  }
  .prizes-section .section-title{
    font-weight:800;
    margin:6px 0 10px 0;
    font-size:15px;
    display:flex;
    align-items:center;
    gap:10px;
    animation:prizesFadeIn 520ms cubic-bezier(.2,.9,.2,1);
  }
  .prizes-table{display:flex;flex-direction:column;gap:10px;margin-top:6px}
  .prize-row{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;border-radius:10px;background:rgba(255,255,255,0.06);font-weight:700;animation:prizeRowIn 420ms ease}
  .prize-row.highlight{background:linear-gradient(90deg,#fff5cc,#ffe680);color:#533f00;box-shadow:0 10px 30px rgba(255,193,7,0.06)}
  @keyframes prizesFadeIn { from{opacity:0;transform:translateY(-6px)} to{opacity:1;transform:none} }
  @keyframes prizeRowIn { from{opacity:0;transform:translateY(6px)} to{opacity:1;transform:none} }

  /* ---------- WHY MEKOM ---------- */
  .why{display:flex;gap:12px;align-items:center}
  .why .text{flex:1}
  .badge{background:linear-gradient(90deg,var(--soft),#cfeaff);padding:8px 10px;border-radius:10px;color:var(--blue);font-weight:700}

  /* ---------- FORM ---------- */
  form input, form select, form textarea{width:100%;padding:10px;margin-top:8px;border-radius:10px;border:1px solid rgba(10,30,80,0.06);font-size:14px}
  .submit{margin-top:10px;width:100%}
  .small{font-size:13px;color:var(--muted)}

  /* make t.me links clearly clickable */
  a[href^="https://t.me"]{color:var(--blue);font-weight:700;text-decoration:none}
  a[href^="https://t.me"]:hover{ text-decoration:underline }

  /* ---------- FOOTER ---------- */
  footer{margin-top:14px;text-align:center;color:var(--muted);font-size:13px;padding:14px}

  /* ---------- Animations ---------- */
  .fade-in{opacity:0;transform:translateY(12px);transition:all 560ms cubic-bezier(.2,.9,.2,1)}
  .fade-in.show{opacity:1;transform:none}
  .typing{display:inline-block;white-space:nowrap;overflow:hidden;border-right:2px solid rgba(0,0,0,0.12)}
  @keyframes pulse-blue{0%{transform:scale(1)}50%{transform:scale(1.03)}100%{transform:scale(1)}}
  .pulse{animation:pulse-blue 2400ms infinite}

  /* small helpers */
  .flex{display:flex;gap:8px;align-items:center}
  .muted-2{color:#4b5563;font-size:13px}

  /* =========================
     –†–ò–§ (styling) - –¥–æ–±–∞–≤–ª–µ–Ω–æ –∏–∑ –∫–æ–¥–∞ 1
     ========================= */
  .rif-section { padding: 14px; border-radius:12px; background: linear-gradient(180deg,#fff,#fbfdff); border:1px solid rgba(10,40,120,0.04); box-shadow:0 8px 26px rgba(12,24,56,0.04); }
  .rif-grid { display:grid; grid-template-columns: 1fr; gap:12px; align-items:stretch; }
  @media(min-width:720px){ .rif-grid { grid-template-columns: 1fr 320px; } }

  .rif-left { display:flex; flex-direction:column; gap:12px; }
  .rif-intro { font-size:14px; color:var(--muted); }
  .rif-cards { display:grid; grid-template-columns:repeat(2,1fr); gap:10px; }
  @media(max-width:560px){ .rif-cards { grid-template-columns:1fr; } }

  /* circular factor card */
  .rif-factor {
    background:linear-gradient(180deg,#fff,#f7fbff);
    border-radius:12px;
    padding:10px;
    display:flex;
    gap:10px;
    align-items:center;
    border:1px solid rgba(10,40,120,0.04);
    cursor: pointer;
  }
  .rif-factor:focus { outline: 2px solid rgba(0,91,255,0.10); }
  .rif-factor .svg-wrap { width:64px; height:64px; flex:0 0 64px; position:relative; }
  .rif-factor svg { display:block; width:64px; height:64px; }
  .rif-factor .label { font-weight:800; font-size:13px; color:#0b234d; }
  .rif-factor .desc { font-size:12px; color:var(--muted); margin-top:4px; }

  /* progress bar alternative for the right column */
  .rif-right { display:flex; flex-direction:column; gap:12px; align-items:stretch; }
  .rif-total {
    display:flex;align-items:center;gap:12px;padding:12px;border-radius:12px;background:linear-gradient(90deg,#fff,#f0f8ff);border:1px solid rgba(10,40,120,0.04);
  }
  .rif-total .total-value { font-weight:900; font-size:28px; color:var(--blue); }
  .rif-total .total-label { color:var(--muted); font-size:13px; }

  .rif-bars { display:flex; flex-direction:column; gap:10px; }
  .rif-bar {
    background:rgba(8,36,102,0.03);
    border-radius:10px;
    padding:10px;
    display:flex;flex-direction:column;gap:6px;
  }
  .rif-bar .row { display:flex; justify-content:space-between; align-items:center; gap:8px; }
  .rif-bar .bar-track { height:10px; background:rgba(0,0,0,0.06); border-radius:999px; overflow:hidden; }
  .rif-bar .bar-fill { height:100%; width:0%; border-radius:999px; background: linear-gradient(90deg,var(--blue),var(--blue-2)); transition:width .9s cubic-bezier(.2,.9,.2,1); }

  .rif-note { font-size:12px; color:var(--muted); }

  /* accordion (–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç) */
  .accordion { margin-top:10px; border-radius:10px; overflow:hidden; border:1px solid rgba(10,40,120,0.04); background:linear-gradient(180deg,#fff,#fbfdff); }
  .accordion .trigger { 
    display:flex; 
    justify-content:space-between; 
    align-items:center; 
    width:100%; 
    padding:12px; 
    background:transparent; 
    border:0; 
    cursor:pointer; 
    font-weight:800; 
    color:var(--muted);
    border: 1px solid rgba(10,40,120,0.06);
  }
  .accordion .content { padding:0 12px; max-height:0; overflow:hidden; transition: max-height 320ms cubic-bezier(.2,.9,.2,1), opacity 220ms ease; opacity:0; }
  .accordion.open .content { opacity:1; padding:12px; }
  .accordion .content p { margin:0; color:var(--muted); font-size:13px; line-height:1.45; }

  /* –ò–ó–ú–ï–ù–ï–ù–ò–ï 1: –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç" –≤ —Å–∏–Ω–∏–π –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ */
  .accordion.open .trigger { color: #005BFF; }

  /* –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ –ø–æ–¥ –¥–∏–∞–≥—Ä–∞–º–º–æ–π –†–ò–§ */
  .rif-record-label {
    font-size: 11px;
    color: var(--blue);
    font-weight: 600;
    text-align: center;
    margin-top: 4px;
    line-height: 1.2;
  }

  /* ===========================================================
     MECOM BRACKET ‚Äî —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å—Ç–∏–ª–µ–π
     =========================================================== */
  .mecom-bracket{--me-blue:#005BFF;--me-blue-2:#2b7bff;--me-soft:#A7D8FF;background: linear-gradient(90deg,rgba(7,48,159,0.03),rgba(0,91,255,0.02));border-radius:12px;padding:10px;box-sizing:border-box;color:#0b1220;font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;}
  .mecom-rounds-nav{display:flex;gap:6px;position:sticky;top:8px;z-index:5;margin-bottom:8px;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;}
  .mecom-rounds-nav::-webkit-scrollbar{display:none;}
  .mecom-rounds-nav .mecom-chip{background:rgba(0,91,255,0.06);color:var(--me-blue);padding:8px 10px;border-radius:999px;font-weight:700;cursor:pointer;border:0;font-size:12px;white-space:nowrap;}
  .mecom-rounds-nav .mecom-chip.is-active{background:linear-gradient(90deg,var(--me-blue),var(--me-blue-2));color:#fff;}

  .mecom-swiper{position:relative;overflow:hidden;border-radius:10px;background:linear-gradient(180deg,#fff,#f7fbff);border:1px solid rgba(10,30,80,0.04);transition:height .26s ease;}
  .mecom-swiper-track{display:flex;width:100%;will-change:transform;transform:translate3d(0,0,0);transition:transform .26s ease;touch-action:pan-y;align-items:flex-start;}
  .mecom-slide{min-width:100%;padding:10px;align-self:flex-start;display:flex;flex-direction:column;}
  .mecom-round-title{font-weight:800;margin-bottom:8px;color:#0b234d;display:flex;justify-content:space-between;align-items:center}

  .pack{border-radius:12px;padding:10px;background:linear-gradient(180deg,#fff,#fbfdff);border:1px solid rgba(10,40,120,0.04);margin-bottom:12px}
  .pack-title{font-weight:800;color:#0b234d;margin-bottom:8px;display:flex;align-items:center;gap:8px}
  .pack-contents{display:flex;flex-direction:column;gap:8px}
  .mecom-team{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:10px;background:rgba(0,0,0,0.03);transition:transform .18s ease, box-shadow .18s ease}
  .mecom-team:hover{transform:translateY(-3px);box-shadow:0 10px 24px rgba(10,30,80,0.06)}
  .mecom-team .left{display:flex;flex-direction:column;gap:6px;min-width:95px}
  .mecom-team .name-wrap{display:flex;flex-direction:column;align-items:flex-end;gap:4px}
  .mecom-team .team-name{font-weight:800;font-size:15px;color:#0b234d;white-space:nowrap}
  .mecom-team.empty-slot{opacity:0.6;font-style:italic;color:var(--muted);padding:6px 12px;height:28px;display:flex;align-items:center;justify-content:flex-end;}
  .mecom-team.placeholder{background:transparent;border:1px dashed rgba(0,0,0,0.03)}

  .mecom-tag{font-size:11px;font-weight:800;padding:4px 6px;border-radius:999px;line-height:1;display:inline-block}
  .mecom-tag-grade{background:rgba(0,0,0,0.06);color:#111}
  .mecom-tag-north{background:rgba(0,92,255,0.09);color:var(--blue)}
  .mecom-tag-south{background:rgba(255,59,59,0.10);color:#c0392b}
  .mecom-tag-east{background:rgba(255,160,60,0.10);color:#d35400}
  .mecom-tag-west{background:rgba(88,165,90,0.10);color:#1e9b4a}

  .mecom-team.winner{background:linear-gradient(90deg,var(--me-soft),#dff4ff);box-shadow:0 10px 30px rgba(0,110,255,0.06)}
  .mecom-team.winner .team-name{color:var(--blue)}
  .mecom-team.winner .team-name::after{content:" üèÖ";margin-left:8px}

  .mecom-team.champion{background: linear-gradient(90deg,#fff5cc,#ffe680);color:#533f00;border:1px solid rgba(255,193,7,0.12);box-shadow:0 12px 30px rgba(255,193,7,0.08)}
  .mecom-team.champion .team-name{ color:#533f00 }
  .mecom-team.champion .team-name::after{ content: " üëë"; margin-left:8px; }

  .promoted-note{font-size:12px;color:var(--muted);margin-top:6px}

  .mecom-dots{display:flex;justify-content:center;gap:6px;padding:10px 0 2px 0}
  .mecom-dot{width:8px;height:8px;border-radius:50%;background:rgba(0,0,0,0.15)}
  .mecom-dot.is-active{background:var(--me-blue)}

  @media(min-width:960px){ .mecom-swiper{ border-radius:12px } }
  @media (max-width:560px){ .mecom-team .team-name{ font-size:14px } }

  /* outline-chip (–ë–ª–∏–∂–∞–π—à–∏–π —á–µ–º–ø–∏–æ–Ω–∞—Ç) */
  .outline-chip {
    display:inline-flex;
    align-items:center;
    gap:10px;
    padding:8px 12px;
    border-radius:10px;
    border:2px solid var(--blue);
    background:transparent;
    color:var(--blue);
    font-weight:800;
    font-size:13px;
    cursor:pointer;
    transition:all .22s ease;
    box-shadow: 0 4px 12px rgba(6,30,80,0.04);
  }
  .outline-chip svg { width:18px; height:18px; flex:0 0 18px; display:block; }
  .outline-chip:hover {
    background: linear-gradient(90deg,var(--blue),var(--blue-2));
    color:#fff;
    transform:translateY(-3px);
    box-shadow: 0 12px 30px rgba(37,98,255,0.12);
  }
  .outline-chip:focus { outline: none; box-shadow: 0 0 0 4px rgba(0,91,255,0.10); }

  @media(max-width:540px){ .outline-chip{ width:100%; justify-content:center; } }

  /* =========================
     Responsive tweaks
     ========================= */
  @media (min-width:720px){
    :root { --base-font-size:15.5px; }
    .hero h1{ font-size:20px; }
    .hero .tag{ font-size:14px; }
    .wrap{ padding:20px; }
    header.hero{ padding:22px; min-height:140px; }
    .logo{ width:84px;height:84px;font-size:22px; border-radius:16px; }
    .btn{ padding:12px 16px; font-size:15px; border-radius:14px; }
  }

  @media (min-width:960px){
    :root { --base-font-size:16px; }
    .wrap{ padding:28px; }
    header.hero{ padding:28px 36px; min-height:160px; }
    .hero h1{ font-size:22px; }
    .hero .tag{ font-size:15px; }
    .logo{ width:92px;height:92px;font-size:24px; }
    .card{ padding:16px; }
    .icon{ width:56px;height:56px; }
    .steps{ grid-template-columns: repeat(3, 1fr); }
    .cols{ grid-template-columns: 1fr 360px; }
  }

  @media (min-width:1280px){
    :root { --base-font-size:17px; }
    .wrap{ padding:32px; }
    header.hero{ padding:34px 48px; min-height:200px; }
    .hero h1{ font-size:24px; }
    .hero .tag{ font-size:16px; }
    .logo{ width:108px;height:108px;font-size:28px; border-radius:18px; }
    .steps{ grid-template-columns: repeat(4, 1fr); gap:14px; }
    .card p{ font-size:14px; }
    .mecom-team .team-name{ font-size:16px; }
  }

  @media (min-width:1600px){
    .wrap{ padding:40px; }
    header.hero{ padding:44px 60px; min-height:240px; border-radius:20px; }
    .hero h1{ font-size:28px; }
    .hero .tag{ font-size:17px; }
    .logo{ width:120px;height:120px;font-size:30px; }
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .logo, .riff, .btn-primary, .rif-factor svg, .rif-factor .svg-wrap, .rif-bar .bar-fill { animation-duration: 1ms !important; animation-iteration-count: 1 !important; transition: none !important; }
    .fade-in{ transition:none; transform:none; opacity:1; }
  }

  /* very large screens keep content centered */
  @media (min-width:1400px){
    .wrap{ max-width:var(--maxwidth); margin-left: auto; margin-right: auto; }
  }

</style>
</head>
<body>
  <div class="wrap">
    <!-- HERO -->
    <header class="hero" id="hero">
      <div class="floaters" aria-hidden="true">
        <!-- initial inline positions provided but may be overridden by JS for large screens -->
        <div class="riff" id="riff-1" style="left:6%;top:10%" aria-hidden="true">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <circle cx="12" cy="12" r="10" fill="white" opacity="0.06"/>
            <path d="M6 12c2-5 10-5 10 0-2 5-10 5-10 0z" fill="#005BFF" opacity="0.18"/>
          </svg>
        </div>
        <div class="riff small" id="riff-2" style="right:6%;top:22%" aria-hidden="true">
          <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 12c2-5 10-5 10 0-2 5-10 5-10 0z" fill="#2b7bff"/></svg>
        </div>
        <div class="riff" id="riff-3" style="left:8%;bottom:10%" aria-hidden="true">
          <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3c5 0 9 4 9 9s-4 9-9 9S3 17 3 12 7 3 12 3z" fill="#A7D8FF"/></svg>
        </div>
      </div>

      <div class="hero-row">
        <div class="logo" aria-hidden="true"><a href="https://www.youtube.com/watch?v=HIcSWuKMwOw" target="_blank" rel="noopener">–ú–ï–ú</a></div>
        <div style="flex:1">
          <h1 id="hero-title">–ú–≠–ö–û–ú ‚Äî —ç–∫–æ–Ω–æ–º–∏–∫–∞, –∞–∑–∞—Ä—Ç –∏ —Ä–∏—Ñ</h1>
          <div class="tag muted"> –ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—è –ú–ï–ö–û–ú ‚Äî —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –∏–≥—Ä—ã –º–µ–∂–¥—É —Å—Ç–∞—Ä—à–∏–º–∏ –∫–ª–∞—Å—Å–∞–º–∏ (—Å 7 –ø–æ 11, –Æ–∂–Ω–æ–≥–æ –∏ –°–µ–≤–µ—Ä–Ω–æ–≥–æ —Ñ–∏–ª–∏–∞–ª–∞) —à–∫–æ–ª—ã –í–∑–º–∞—Ö </div>
          <div class="ctas">
            <button class="btn btn-primary" onclick="scrollToId('how-play')" aria-label="–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–µ–∫—Ü–∏–∏ '–ö–∞–∫ –∏–≥—Ä–∞—Ç—å'">–ö–∞–∫ –∏–≥—Ä–∞—Ç—å</button>
            <button class="btn btn-ghost" onclick="scrollToId('reg')" aria-label="–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–µ–∫—Ü–∏–∏ '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è'">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
          </div>
        </div>
      </div>
    </header>

    <!-- ABOUT / WHAT IS MEKOM -->
    <section id="about" class="fade-in" aria-labelledby="aboutTitle">
      <h2 id="aboutTitle">–ß—Ç–æ —Ç–∞–∫–æ–µ –ú–≠–ö–û–ú?</h2>
      <p class="muted">–ú–≠–ö–û–ú ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —à–∫–æ–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –∏–≥—Ä–∞: –∫–æ–º–∞–Ω–¥—ã –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ —Å–æ—Ä–µ–≤–Ω—É—é—Ç—Å—è –≤ —Å–µ—Ä–∏—è—Ö —Ä–∞—É–Ω–¥–æ–≤, –ø—Ä–∏–Ω–∏–º–∞—é—Ç –±–∏–∑–Ω–µ—Å-—Ä–µ—à–µ–Ω–∏—è –∏ ¬´–∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç¬ª –Ω–∞–∏–≤—ã—Å—à–∏–π <strong>–†–ò–§ ‚Äî <i>—Ä–µ–π—Ç–∏–Ω–≥–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å —Ñ–∏—Ä–º—ã</i></strong>. –ß–µ–º –ª—É—á—à–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ –∫–æ–º–∞–Ω–¥–Ω–∞—è –∏–≥—Ä–∞, —Ç–µ–º –≤—ã—à–µ —à–∞–Ω—Å –ø—Ä–æ–π—Ç–∏ –≤ —Ñ–∏–Ω–∞–ª.</p>
      <div style="margin-top:12px" class="cols">
        <div>
          <div class="card" style="align-items:flex-start">
            <div class="icon" aria-hidden="true">–†</div>
            <div>
              <h3>–î–ª—è –∫–æ–≥–æ?</h3>
              <p class="muted">–ö–æ–º–∞–Ω–¥—ã –∫–ª–∞—Å—Å–æ–≤ 7‚Äì11 –∏–∑ –Æ–∂–Ω–æ–≥–æ –∏ –°–µ–≤–µ—Ä–Ω–æ–≥–æ —Ñ–∏–ª–∏–∞–ª–æ–≤. –ö–∞–∂–¥—ã–π —Ä–∞—É–Ω–¥ ‚Äî –Ω–æ–≤–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∫–∞–∑–∞—Ç—å —Å–º–µ–∫–∞–ª–∫—É.</p>
            </div>
          </div>

          <div class="card" style="margin-top:10px">
            <div class="icon" aria-hidden="true">‚öñ</div>
            <div>
              <h3>–¶–µ–ª—å</h3>
              <p class="muted">–ù–∞–±–∏—Ä–∞—Ç—å –Ω–∞–∏–±–æ–ª—å—à–∏–π —Ä–∏—Ñ –≤ –∏–≥—Ä–∞—Ö –∏ –ø—Ä–æ–π—Ç–∏ —á–µ—Ä–µ–∑ —Ç—É—Ä–Ω–∏—Ä–Ω—É—é —Å–µ—Ç–∫—É –¥–æ —Ñ–∏–Ω–∞–ª–∞ ‚Äî —Ç–∞–º —Ä–µ—à–∞–µ—Ç—Å—è –≤—Å—ë.</p>
            </div>
          </div>
        </div>

        <aside class="bracket-info fade-in" style="padding:8px">
          <button
            type="button"
            class="outline-chip"
            aria-label="–ë–ª–∏–∂–∞–π—à–∏–π —á–µ–º–ø–∏–æ–Ω–∞—Ç ‚Äî –Æ–∂–Ω—ã–π —Ñ–∏–ª–∏–∞–ª. –ü–µ—Ä–µ–π—Ç–∏ –∫ —Ç—É—Ä–Ω–∏—Ä–Ω–æ–π —Å–µ—Ç–∫–µ."
            onclick="scrollToId('tournament')"
          >
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
              <path d="M7 10l5 5 5-5z"/>
            </svg>
            <span>–ë–ª–∏–∂–∞–π—à–∏–π —á–µ–º–ø–∏–æ–Ω–∞—Ç ‚Äî —é–∂–Ω—ã–π —Ñ–∏–ª–∏–∞–ª</span>
          </button>

          <p class="muted" style="margin-top:8px">–°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ –ú–ï–ö–û–ú (<a href="https://t.me/mekom_info" target="_blank" rel="noopener">@mekom_info</a>)</p>
          <div style="margin-top:12px" class="small muted-2">–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã: –Ø–Ω ¬∑ –ï–≥–æ—Ä ¬∑ –ê—Ä—Ç–µ–º–∏–π</div>
        </aside>
      </div>
    </section>

    <!-- TO WIN -->
    <section id="how" class="fade-in" aria-labelledby="howTitle">
      <h2 id="howTitle">–ö–∞–∫ –≤—ã–∏–≥—Ä–∞—Ç—å –í–°–Å</h2>
      <div class="steps" style="margin-top:12px">
        <div class="card">
          <div class="icon">üë•</div>
          <div>
            <h3>1. –°–æ–±–µ—Ä–∏ –∫–æ–º–∞–Ω–¥—É</h3>
            <p class="muted">2‚Äì5 —á–µ–ª–æ–≤–µ–∫ –∏–∑ –∫–ª–∞—Å—Å–∞, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ä–æ–ª–∏: –ø—É—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–≥—Ä–æ–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑—É—á–∏—Ç –ø—Ä–∞–≤–∏–ª–∞ –∏ —Ñ–æ—Ä–º—É–ª—ã –∏–≥—Ä—ã)</p>
          </div>
        </div>

        <div class="card">
          <div class="icon">üì•</div>
          <div>
            <h3>2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —Å—Ç–∞—Ä—Ç</h3>
            <p class="muted">–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤ –∏–ª–∏ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É ‚Äî –ø–æ–ª—É—á–∏—Ç–µ –æ—Ç—á—ë—Ç –ø–æ —Ñ–∏—Ä–º–µ –∑–∞ –Ω—É–ª–µ–≤–æ–π –ø–µ—Ä–∏–æ–¥ –∏ —Ä–∞–∑–±–æ—Ä –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π.</p>
          </div>
        </div>

        <div class="card">
          <div class="icon">‚öôÔ∏è</div>
          <div>
            <h3>3. –ò–≥—Ä–∞ –≤ —Ä–∞—É–Ω–¥–µ ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –≤–∞–∂–Ω–µ–µ –∞–∑–∞—Ä—Ç–∞</h3>
            <p class="muted">–í –∫–∞–∂–¥–æ–º —Ä–∞—É–Ω–¥–µ –≤—ã –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ —Ä–µ—à–µ–Ω–∏—è: –¥–æ–∫—É–ø–∞—Ç—å —Å—Ç–∞–Ω–∫–∏, –≤–∫–ª–∞–¥—ã–≤–∞—Ç—å –≤ —Ä–µ–∫–ª–∞–º—É, –ø–æ–≤—ã—à–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –∏ —Ç. –ø.</p>
            <ul class="strategy">
              <li><strong>–†–∞–∑–±–µ—Ä–∏—Ç–µ —Å–≤–æ–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ –ø—Ä–∏–¥—É–º–∞–π—Ç–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é.</strong></li>
              <li><strong>–ù–µ –±–æ–π—Ç–µ—Å—å –ø—Ä–æ–¥—É–º–∞–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.</strong> –°–º–µ–ª–æ—Å—Ç—å + —Ä–∞—Å—á—ë—Ç = –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ.</li>
            </ul>
          </div>
        </div>

        <div class="card">
          <div class="icon">üéØ</div>
          <div>
            <h3>4. –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Å—Ç–∞–¥–∏–π</h3>
            <p class="muted">–û—Ç–±–æ—Ä–æ—á–Ω—ã–µ ‚Üí –í—Ç–æ—Ä–∞—è —Å—Ç–∞–¥–∏—è ‚Üí –ü–æ–ª—É—Ñ–∏–Ω–∞–ª ‚Üí –§–∏–Ω–∞–ª ‚Üí –ü–æ–±–µ–¥–∏—Ç–µ–ª—å.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- HOW TO PLAY (decisions) -->
    <section id="how-play" class="fade-in" aria-labelledby="howPlayTitle">
      <h2 id="howPlayTitle">–ö–∞–∫ –∏–≥—Ä–∞—Ç—å ‚Äî —Å—É—Ç—å –∏ —Ä–µ—à–µ–Ω–∏—è</h2>
      <p class="muted">–í –∫–∞–∂–¥–æ–º –ø–µ—Ä–∏–æ–¥–µ –≤—ã –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ 5 –∫–ª—é—á–µ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ñ–∏—Ä–º—ã –∏ –≤–ª–∏—è—é—Ç –Ω–∞ –†–ò–§.</p>

      <div class="steps" style="margin-top:12px">
        <div class="card small">
          <div class="icon">1</div>
          <div>
            <h3>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—É</h3>
            <p class="muted">–¶–µ–Ω–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–ø—Ä–æ—Å, –º–∞—Ä–∂—É –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å.</p>
          </div>
        </div>

        <div class="card small">
          <div class="icon">2</div>
          <div>
            <h3>–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</h3>
            <p class="muted">–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞ –∏ —É—á–∏—Ç—ã–≤–∞–π—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–±—Ä–∏–∫–∏.</p>
          </div>
        </div>

        <div class="card small">
          <div class="icon">3</div>
          <div>
            <h3>–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥</h3>
            <p class="muted">–í–ª–æ–∂–µ–Ω–∏—è –≤ —Ä–µ–∫–ª–∞–º—É –ø–æ–≤—ã—à–∞—é—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª —Å–ø—Ä–æ—Å–∞.</p>
          </div>
        </div>

        <div class="card small">
          <div class="icon">4</div>
          <div>
            <h3>–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</h3>
            <p class="muted">–ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è –∏ –∫–∞–ø–≤–ª–æ–∂–µ–Ω–∏—è –≤–ª–∏—è—é—Ç –Ω–∞ –º–æ—â–Ω–æ—Å—Ç–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.</p>
          </div>
        </div>

        <div class="card small">
          <div class="icon">5</div>
          <div>
            <h3>–ù–ò–û–ö–†</h3>
            <p class="muted">–ü–æ–≤—ã—à–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—É—é –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- –°–ï–ö–¶–ò–Ø –†–ò–§ - –¥–æ–±–∞–≤–ª–µ–Ω–æ –∏–∑ –∫–æ–¥–∞ 1 -->
    <section id="rif" class="fade-in rif-section" aria-labelledby="rif-title" style="margin-top:16px;">
      <h2 id="rif-title">–ß—Ç–æ —Ç–∞–∫–æ–µ –†–ò–§?</h2>
      <div class="rif-grid" style="margin-top:10px;">
        <!-- left: cards -->
        <div class="rif-left">
          <div class="rif-intro">
            <strong>–†–ò–§ (–†–µ–π—Ç–∏–Ω–≥–æ–≤—ã–π –ò–Ω–¥–µ–∫—Å –§–∏—Ä–º—ã)</strong> ‚Äî  –∏–≥—Ä–æ–≤–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å, –æ—Ç—Ä–∞–∂–∞—é—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ñ–∏—Ä–º—ã –≤ —Ç—É—Ä–Ω–∏—Ä–µ. –û–Ω —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –∏–∑ —à–µ—Å—Ç–∏ —Ñ–∞–∫—Ç–æ—Ä–æ–≤. –ù–∏–∂–µ ‚Äî –∫—Ä–∞—Ç–∫–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–∫—Ç–æ—Ä–∞ (–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –º–∞–∫—Å–∏–º—É–º—ã –ø–æ–∫–∞–∑–∞–Ω—ã —Ä—è–¥–æ–º).
          </div>
        <!-- right: totals -->
        <div class="rif-right" aria-hidden="false">
          <div class="rif-total" role="status" aria-live="polite">
            <div style="flex:1">
              <div class="total-label">–ê–±—Å–æ–ª—é—Ç–Ω—ã–π —Ä–µ–∫–æ—Ä–¥ –†–ò–§–∞!</div>
              <div class="total-value" id="rifTotal">0</div>
              <div class="rif-note">–ù–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å + –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Å–ø—Ä–æ—Å–∞ + –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å + –î–æ–ª—è —Ä—ã–Ω–∫–∞ + –†–æ—Å—Ç</div>
            </div>
            <div style="width:120px; text-align:center;">
              <!-- small donut for current game RIF -->
              <svg viewBox="0 0 36 36" width="80" height="80" aria-hidden="true">
                <path d="M18 2.0845
                         a 15.9155 15.9155 0 0 1 0 31.831
                         a 15.9155 15.9155 0 0 1 0 -31.831"
                      fill="none" stroke="rgba(0,0,0,0.06)" stroke-width="3.2"></path>
                <path class="total-ring" d="M18 2.0845
                         a 15.9155 15.9155 0 0 1 0 31.831
                         a 15.9155 15.9155 0 0 1 0 -31.831"
                      fill="none" stroke="url(#tg)" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="100 100" stroke-dashoffset="100"></path>
                <defs>
                  <linearGradient id="tg" x1="0" x2="1"><stop offset="0" stop-color="#005BFF"/><stop offset="1" stop-color="#2b7bff"/></linearGradient>
                </defs>
                <text x="18" y="21" font-size="8" text-anchor="middle" fill="#0b234d" font-weight="800" id="totalDonutText">0</text>
              </svg>
              <div class="rif-record-label">–ù–∞–∏–≤—ã—Å—à–∏–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –†–ò–§–∞ –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∏–≥—Ä–µ!</div>
            </div>
          </div>

          <div class="rif-cards" aria-hidden="false">
            <!-- Factor: –ù–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å (max 400 –¥–ª—è –≤–∫–ª–∞–¥–∞ –≤ –†–ò–§) -->
            <div class="rif-factor" data-factor="profit" role="group" aria-label="–ù–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å">
              <div class="svg-wrap" aria-hidden="true">
                <svg viewBox="0 0 100 100" role="img" aria-hidden="true">
                  <!-- base track -->
                  <circle cx="50" cy="50" r="42" stroke="rgba(0,0,0,0.06)" stroke-width="12" fill="none"></circle>
                  <!-- animated ring - –û–†–ê–ù–ñ–ï–í–´–ô —Ü–≤–µ—Ç -->
                  <circle class="ring" cx="50" cy="50" r="42" stroke-width="12" stroke-linecap="round" stroke="url(#g1)" fill="none" stroke-dasharray="0" stroke-dashoffset="0"></circle>
                  <defs>
                    <linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#ff7b00"/><stop offset="1" stop-color="#ffa726"/></linearGradient>
                  </defs>
                  <text x="50" y="58" text-anchor="middle" font-size="20" font-weight="800" fill="#0b234d" class="ring-value">0</text>
                </svg>
              </div>
              <div style="flex:1">
                <div class="label">–ù–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å</div>
                <div class="desc">–ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –†–ò–§ ‚Äî –≤–∫–ª–∞–¥ –≤ –∏—Ç–æ–≥ –¥–æ <strong>400</strong> –ø—É–Ω–∫—Ç–æ–≤.</div>
              </div>
            </div>

            <!-- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Å–ø—Ä–æ—Å–∞ (max 20) -->
            <div class="rif-factor" data-factor="demand" role="group" aria-label="–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Å–ø—Ä–æ—Å–∞">
              <div class="svg-wrap" aria-hidden="true">
                <svg viewBox="0 0 100 100" role="img" aria-hidden="true">
                  <circle cx="50" cy="50" r="42" stroke="rgba(0,0,0,0.06)" stroke-width="12" fill="none"></circle>
                  <circle class="ring" cx="50" cy="50" r="42" stroke-width="12" stroke-linecap="round" stroke="url(#g2)" fill="none" stroke-dasharray="0" stroke-dashoffset="0"></circle>
                  <defs>
                    <linearGradient id="g2" x1="0" x2="1"><stop offset="0" stop-color="#00aaff"/><stop offset="1" stop-color="#66b8ff"/></linearGradient>
                  </defs>
                  <text x="50" y="58" text-anchor="middle" font-size="18" font-weight="800" fill="#0b234d" class="ring-value">0</text>
                </svg>
              </div>
              <div style="flex:1">
                <div class="label">–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Å–ø—Ä–æ—Å–∞</div>
                <div class="desc">–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ –ù–ò–û–ö–† ‚Äî –¥–æ <strong>20</strong> –ø—É–Ω–∫—Ç–æ–≤.  </div>
              </div>
            </div>

            <!-- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ (max 20) -->
            <div class="rif-factor" data-factor="supply" role="group" aria-label="–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ">
              <div class="svg-wrap" aria-hidden="true">
                <svg viewBox="0 0 100 100" role="img" aria-hidden="true">
                  <circle cx="50" cy="50" r="42" stroke="rgba(0,0,0,0.06)" stroke-width="12" fill="none"></circle>
                  <circle class="ring" cx="50" cy="50" r="42" stroke-width="12" stroke-linecap="round" stroke="url(#g3)" fill="none" stroke-dasharray="0" stroke-dashoffset="0"></circle>
                  <defs>
                    <linearGradient id="g3" x1="0" x2="1"><stop offset="0" stop-color="#45c67a"/><stop offset="1" stop-color="#8fe0a1"/></linearGradient>
                  </defs>
                  <text x="50" y="58" text-anchor="middle" font-size="18" font-weight="800" fill="#0b234d" class="ring-value">0</text>
                </svg>
              </div>
              <div style="flex:1">
                <div class="label">–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</div>
                <div class="desc">–î–æ–ª—è –≤ –æ–±—â–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ ‚Äî –¥–æ <strong>20</strong> –ø—É–Ω–∫—Ç–æ–≤.</div>
              </div>
            </div>

            <!-- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å 80% (max 10) -->
            <div class="rif-factor" data-factor="efficiency" role="group" aria-label="–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å">
              <div class="svg-wrap" aria-hidden="true">
                <svg viewBox="0 0 100 100" role="img" aria-hidden="true">
                  <circle cx="50" cy="50" r="42" stroke="rgba(0,0,0,0.06)" stroke-width="12" fill="none"></circle>
                  <circle class="ring" cx="50" cy="50" r="42" stroke-width="12" stroke-linecap="round" stroke="url(#g4)" fill="none" stroke-dasharray="0" stroke-dashoffset="0"></circle>
                  <defs>
                    <linearGradient id="g4" x1="0" x2="1"><stop offset="0" stop-color="#ffb400"/><stop offset="1" stop-color="#ffd66e"/></linearGradient>
                  </defs>
                  <text x="50" y="58" text-anchor="middle" font-size="18" font-weight="800" fill="#0b234d" class="ring-value">0</text>
                </svg>
              </div>
              <div style="flex:1">
                <div class="label">–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
                <div class="desc">–û—Ü–µ–Ω–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–±—Ä–∏–∫–∏; –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞—ë—Ç –º–∞–∫—Å–∏–º—É–º ‚Äî –¥–æ <strong>10</strong> –ø—É–Ω–∫—Ç–æ–≤.</div>
              </div>
            </div>

            <!-- –î–æ–ª—è —Ä—ã–Ω–∫–∞ (max 20) -->
            <div class="rif-factor" data-factor="market" role="group" aria-label="–î–æ–ª—è —Ä—ã–Ω–∫–∞">
              <div class="svg-wrap" aria-hidden="true">
                <svg viewBox="0 0 100 100" role="img" aria-hidden="true">
                  <circle cx="50" cy="50" r="42" stroke="rgba(0,0,0,0.06)" stroke-width="12" fill="none"></circle>
                  <circle class="ring" cx="50" cy="50" r="42" stroke-width="12" stroke-linecap="round" stroke="url(#g5)" fill="none" stroke-dasharray="0" stroke-dashoffset="0"></circle>
                  <defs>
                    <linearGradient id="g5" x1="0" x2="1"><stop offset="0" stop-color="#ff5b9a"/><stop offset="1" stop-color="#ff87c6"/></linearGradient>
                  </defs>
                  <text x="50" y="58" text-anchor="middle" font-size="18" font-weight="800" fill="#0b234d" class="ring-value">0</text>
                </svg>
              </div>
              <div style="flex:1">
                <div class="label">–î–æ–ª—è —Ä—ã–Ω–∫–∞</div>
                <div class="desc">–í–∞—à–∞ –¥–æ–ª—è –ø—Ä–æ–¥–∞–∂ –≤ —Ä—ã–Ω–∫–µ ‚Äî –¥–æ <strong>20</strong> –ø—É–Ω–∫—Ç–æ–≤.</div>
              </div>
            </div>

            <!-- –†–æ—Å—Ç (max 20) -->
            <div class="rif-factor" data-factor="growth" role="group" aria-label="–†–æ—Å—Ç">
              <div class="svg-wrap" aria-hidden="true">
                <svg viewBox="0 0 100 100" role="img" aria-hidden="true">
                  <circle cx="50" cy="50" r="42" stroke="rgba(0,0,0,0.06)" stroke-width="12" fill="none"></circle>
                  <circle class="ring" cx="50" cy="50" r="42" stroke-width="12" stroke-linecap="round" stroke="url(#g6)" fill="none" stroke-dasharray="0" stroke-dashoffset="0"></circle>
                  <defs>
                    <linearGradient id="g6" x1="0" x2="1"><stop offset="0" stop-color="#7b61ff"/><stop offset="1" stop-color="#b79bff"/></linearGradient>
                  </defs>
                  <text x="50" y="58" text-anchor="middle" font-size="18" font-weight="800" fill="#0b234d" class="ring-value">0</text>
                </svg>
              </div>
              <div style="flex:1">
                <div class="label">–†–æ—Å—Ç</div>
                <div class="desc">–¢–µ–º–ø —Ä–æ—Å—Ç–∞ —Å–±—ã—Ç–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ ‚Äî –¥–æ <strong>20</strong> –ø—É–Ω–∫—Ç–æ–≤.</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- –ê–∫–∫–æ—Ä–¥–µ–æ–Ω: –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç (–ø—Ä–æ –Ω—É–ª–µ–≤–æ–π –ø–µ—Ä–∏–æ–¥ –∏ —Ç–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è) -->
      <div class="accordion" id="rif-fact" aria-hidden="false" style="margin-top:12px;">
        <button class="trigger" aria-expanded="false" aria-controls="rif-fact-content">–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç <span aria-hidden="true">‚ñæ</span></button>
        <div class="content" id="rif-fact-content">
          <p>
            –í –Ω—É–ª–µ–≤–æ–º –ø–µ—Ä–∏–æ–¥–µ –≤—Å–µ —Ñ–∏—Ä–º—ã —Å—Ç–∞—Ä—Ç—É—é—Ç —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ –†–ò–§, –∫–æ—Ç–æ—Ä—ã–π —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –∏–∑ —à–µ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –§–æ—Ä–º–∞–ª—å–Ω–æ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫ (–æ—á–∫–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –ø—É–Ω–∫—Ç–∞—Ö, –Ω–µ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö): –ù–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å ‚Äî <strong>50</strong> –ø—É–Ω–∫—Ç–æ–≤, –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Å–ø—Ä–æ—Å–∞ ‚Äî <strong>10</strong>, –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ ‚Äî <strong>10</strong>, –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî <strong>10</strong>, –î–æ–ª—è —Ä—ã–Ω–∫–∞ ‚Äî <strong>10</strong>, –†–æ—Å—Ç ‚Äî <strong>10</strong>. –ò—Ç–æ–≥–æ: –±–∞–∑–æ–≤—ã–π –†–ò–§ = <strong>100</strong> –ø—É–Ω–∫—Ç–æ–≤.
          </p>
          <p style="margin-top:8px;">
            –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏: –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å –∫–∞–∫ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Ç–æ–ª–∫–∞ (—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –º–æ–∂–µ—Ç —Ä–∞—Å—Ç–∏ –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ), –æ–¥–Ω–∞–∫–æ –µ—ë –≤–∫–ª–∞–¥ –≤ –†–ò–§ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ä–∞–º–∫–æ–π (–≤–∫–ª–∞–¥ –≤ —Ä–∞—Å—á—ë—Ç ‚Äî –¥–æ 50 –ø—É–Ω–∫—Ç–æ–≤). –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã ‚Äî –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏ –∏–º–µ—é—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∫–ª–∞–¥—ã (–≤ —Ä–µ–∞–ª—å–Ω–æ–π –∏–≥—Ä–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—á–∏—Ç–∞—é—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–∞–º –∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã –∫ —Å—Ä–µ–¥–Ω–∏–º –ø–æ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏).
          </p>
          <p style="margin-top:8px;color:#334155;font-style:italic;">–ö–æ—Ä–æ—Ç–∫–æ: –Ω–æ–ª—å ‚Äî —ç—Ç–æ —Å—Ç–∞—Ä—Ç–æ–≤—ã–π ¬´100¬ª. –í—Å—ë, —á—Ç–æ –¥–∞–ª—å—à–µ ‚Äî –≤–æ–ø—Ä–æ—Å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞ –∏ —É–º–µ–Ω–∏—è –∏–∑–±–µ–≥–∞—Ç—å —É–≤–æ–ª—å–Ω–µ–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ (—à—É—Ç–∫–∞, –Ω–µ —É–≤–æ–ª—å–Ω—è—é—Ç).</p>
        </div>
      </div>

    </section>

    <!-- PRIZES -->
    <section id="prizes" class="prizes-section fade-in" aria-label="–ü—Ä–∏–∑–æ–≤—ã–µ">
      <div class="section-title">üèÜ –ü—Ä–∏–∑–æ–≤—ã–µ –Ω–∞ –ß–µ–º–ø–∏–æ–Ω–∞—Ç</div>
      <div class="prizes-table" role="list" aria-hidden="false">
        <div class="prize-row highlight" role="listitem">
          <div class="label">1 –º–µ—Å—Ç–æ</div>
          <div class="value"><span class="counter" data-target="1140000">0</span> —ç–∫—Å–∏</div>
        </div>

        <div class="prize-row" role="listitem">
          <div class="label">2 –º–µ—Å—Ç–æ</div>
          <div class="value"><span class="counter" data-target="390000">0</span> —ç–∫—Å–∏</div>
        </div>

        <div class="prize-row" role="listitem">
          <div class="label">–ö–æ–º–∞–Ω–¥—ã –≤–Ω–µ —Ñ–∏–Ω–∞–ª–∞</div>
          <div class="value"><span class="counter" data-target="90000">0</span> —ç–∫—Å–∏</div>
        </div>

        <div class="prize-row" role="listitem">
          <div class="label">–ù–µ –ø—Ä–æ—à–ª–∏ 2 —Å—Ç–∞–¥–∏—é</div>
          <div class="value"><span class="counter" data-target="25000">0</span> —ç–∫—Å–∏</div>
        </div>

        <div class="prize-row" role="listitem">
          <div class="label">–ù–µ –ø—Ä–æ—à–ª–∏ –æ—Ç–±–æ—Ä–æ—á–Ω—ã–µ</div>
          <div class="value"><span class="counter" data-target="5000">0</span> —ç–∫—Å–∏</div>
        </div>
      </div>
    </section>

    <!-- TOURNAMENT -->
    <section id="tournament" class="fade-in" aria-label="–¢—É—Ä–Ω–∏—Ä–Ω–∞—è —Å–µ—Ç–∫–∞">
      <h2>–¢—É—Ä–Ω–∏—Ä–Ω–∞—è —Å–µ—Ç–∫–∞ ‚Äî —ç—Ç–∞–ø—ã</h2>

      <div id="mecom-bracket" class="mecom-bracket" data-storage-key="mecom_bracket_state_v4" data-auto-seed="true">
        <div class="mecom-rounds-nav" id="mecomRoundsNav" role="tablist" aria-label="–†–∞—É–Ω–¥—ã"></div>

        <div class="mecom-swiper" id="mecomSwiper" aria-live="polite">
          <div class="mecom-swiper-track" id="mecomSwiperTrack"></div>
        </div>

        <div class="mecom-dots" id="mecomDots" aria-hidden="true"></div>
      </div>
    </section>

    <!-- WHY MEKOM -->
    <section id="why" class="fade-in">
      <h2>–ü–æ—á–µ–º—É –º—ã ‚Äî –ú–ï–ö–û–ú?</h2>
      <div class="why" style="margin-top:8px">
        <div class="badge">–õ–µ–≥–µ–Ω–¥–∞</div>
        <div class="text">
          <p class="muted">–ö–æ–≥–¥–∞ –º—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—é, —Ä–µ—à–∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –ª—ë–≥–∫–∏–π —Ä–µ–≤–µ—Ä–∞–Ω—Å –≤ —Å—Ç–æ—Ä–æ–Ω—É –Ω–∞—à–µ–≥–æ –∫–ª–∞—Å—Å–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è –ú–∞—Ä–∏–Ω—ã –ï–≥–æ—Ä–æ–≤–Ω—ã ‚Äî –≤–∑—è–ª–∏ –µ—ë ¬´–ú–ï¬ª –∏ –ø—Ä–æ—Å—Ç–æ –¥–æ–∫—Ä—É—Ç–∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ. –û—Å—Ç–∞–≤–∏–ª–∏ –∑–Ω–∞–∫–æ–º–æ–µ –∑–≤—É—á–∞–Ω–∏–µ, –Ω–æ —Å–ª–µ–≥–∫–∞ –ø–æ–º–µ–Ω—è–ª–∏ –±—É–∫–≤—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏–ª–æ—Å—å —É–Ω–∏–∫–∞–ª—å–Ω–æ. –¢–µ–ø–µ—Ä—å –ú–ï–ö–û–ú ‚Äî —ç—Ç–æ –∏ –ø—Ä–æ –Ω–∞—Å, –∏ –ø—Ä–æ –∏–≥—Ä—É, –∏ –ø—Ä–æ —Ç–æ, —á—Ç–æ –≤ –∂–∏–∑–Ω–∏ –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –º–µ—Å—Ç–æ –∫—Ä–µ–∞—Ç–∏–≤—É –∏ —Ö–∏—Ç—Ä–æ—Å—Ç–∏ (–∞ —Ç–∞–∫ –∂–µ –ø–æ–¥—Ö–∞–ª–∏–º—Å—Ç–≤—É).</p>
        </div>
      </div>
    </section>

    <!-- REGISTRATION -->
    <section id="reg" class="fade-in">
      <h2>–ö–∞–∫ –ø—Ä–∏–Ω—è—Ç—å —É—á–∞—Å—Ç–∏–µ</h2>
      <p class="muted">–°–æ–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏ –≥–æ—Ç–æ–≤—å—Ç–µ—Å—å –∫ —Ä–∞—É–Ω–¥–∞–º. –ó–∞–ø–æ–ª–Ω–∏–≤ —Ñ–æ—Ä–º—É, –≤—ã —Å–ø—É—Å—Ç—è –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ/–æ—Ç–∫–∞–∑ –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –í —Å–ª—É—á–∞–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–æ–º–∞–Ω–¥—ã, –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç–µ –≤ —Ç–∞–±–ª–∏—Ü–µ, –∞ –∏–º–µ–Ω–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ –æ—Ç–±–æ—Ä–æ—á–Ω—ã–µ! </p>

      <a
        class="btn btn-primary submit"
        href="https://forms.gle/Zo1daNJ5sn5e5AcJ6"
        target="_blank"
        rel="noopener noreferrer"
        aria-label="–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É ‚Äî –æ—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ"
      >
        –ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —É—á–∞—Å—Ç–∏–µ
      </a>
    </section>

    <!-- CONTACTS -->
    <section class="fade-in">
      <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
      <p class="muted">
        –¢–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª: <a href="https://t.me/mekom_info" target="_blank" rel="noopener">@mekom_info</a><br/>
        –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞: <a href="https://t.me/mekom_chat" target="_blank" rel="noopener">@mekom_chat</a>
      </p>
    </section>

    <footer class="fade-in" role="contentinfo">
      <div style="font-weight:700">–ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—è –ú–ï–ö–û–ú</div>
      <div class="muted" style="margin-top:6px">–°–¥–µ–ª–∞–Ω–æ –≤ —à–∫–æ–ª–µ, –Ω–æ –Ω–∞ –º–∏—Ä–æ–≤–æ–º —É—Ä–æ–≤–Ω–µ, —Å —Ö–∏—Ç—Ä–æ—Å—Ç—å—é –∏ –¥–µ—Ä–∑–æ—Å—Ç—å—é.</div>
    </footer>
  </div>

<script>
  "use strict";

  // ----- smooth scroll to id -----
  function scrollToId(id){
    const el = document.getElementById(id);
    if(!el) return;
    // offset adjustment: ensure element not hidden behind any sticky elements (none prominent here)
    el.scrollIntoView({behavior:'smooth',block:'start'});
  }

  // ----- fade-in on scroll -----
  (function initFadeIn(){
    const fades = document.querySelectorAll('.fade-in');
    if(!fades) return;
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          e.target.classList.add('show');
          io.unobserve(e.target);
        }
      });
    }, {threshold: 0.12});
    fades.forEach(f=>io.observe(f));
  })();

  // ----- format number helper -----
  function formatNumber(n){
    return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ");
  }

  // ----- animateCounter -----
  if(typeof window.animateCounter !== 'function'){
    window.animateCounter = function(el, target, duration=1200){
      const startTime = performance.now();
      const from = 0;
      function step(now){
        const t = Math.min((now - startTime) / duration, 1);
        const value = Math.floor(from + (target - from) * t);
        el.textContent = formatNumber(value);
        if(t < 1) requestAnimationFrame(step);
        else el.textContent = formatNumber(target);
      }
      requestAnimationFrame(step);
    };
  }

  // ----- prize counters when visible -----
  (function initPrizeCounters(){
    const counters = document.querySelectorAll('.counter');
    if(!counters || counters.length === 0) return;
    const cIO = new IntersectionObserver((entries, obs)=>{
      entries.forEach(en=>{
        if(en.isIntersecting){
          const el = en.target;
          const tgt = parseInt(el.dataset.target, 10) || 0;
          animateCounter(el, tgt, 1300);
          obs.unobserve(el);
        }
      });
    }, {threshold: 0.4});
    counters.forEach(c=> cIO.observe(c));
  })();

  // ----- Floaters (smart positioning + reduced-motion respect) -----
  (function initFloaters(){
    const floaters = Array.from(document.querySelectorAll('.riff'));
    const floatersContainer = document.querySelector('.floaters');
    if(!floaters || floaters.length === 0 || !floatersContainer) return;

    const reduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    function positionFloaters(){
      const w = window.innerWidth || document.documentElement.clientWidth;
      // Programmatically set safe positions to avoid covering hero text/buttons on larger screens
      if(w >= 1400){
        if(floaters[0]) { floaters[0].style.left = '2%'; floaters[0].style.top = '8%'; floaters[0].style.right = ''; }
        if(floaters[1]) { floaters[1].style.right = '2%'; floaters[1].style.top = '14%'; floaters[1].style.left = ''; }
        if(floaters[2]) { floaters[2].style.right = '6%'; floaters[2].style.bottom = '6%'; floaters[2].style.left = ''; floaters[2].style.top = ''; }
      } else if(w >= 960){
        if(floaters[0]) { floaters[0].style.left = '3%'; floaters[0].style.top = '10%'; floaters[0].style.right = ''; }
        if(floaters[1]) { floaters[1].style.right = '4%'; floaters[1].style.top = '16%'; floaters[1].style.left = ''; }
        if(floaters[2]) { floaters[2].style.left = '6%'; floaters[2].style.bottom = '10%'; floaters[2].style.right = ''; floaters[2].style.top = ''; }
      } else {
        // small screens: keep compact positions
        if(floaters[0]) { floaters[0].style.left = '6%'; floaters[0].style.top = '10%'; floaters[0].style.right = ''; }
        if(floaters[1]) { floaters[1].style.right = '6%'; floaters[1].style.top = '22%'; floaters[1].style.left = ''; }
        if(floaters[2]) { floaters[2].style.left = '8%'; floaters[2].style.bottom = '10%'; floaters[2].style.right = ''; floaters[2].style.top = ''; }
      }
    }

    floaters.forEach((el, i)=>{
      el.style.pointerEvents = 'none';
      // staggered animation, respect reduced motion
      if(!reduce){
        const dur = 4 + (i % 3);
        el.style.animation = `riff-float ${dur}s ${i*0.28}s ease-in-out infinite`;
      } else {
        el.style.animation = 'none';
      }
      el.style.zIndex = '0'; // ensure they are behind the hero content (hero-row z-index:2)
    });

    // Parallax-like subtle container translation on scroll (keeps individual animations intact)
    if(!reduce){
      window.addEventListener('scroll', ()=>{
        const sc = window.scrollY || window.pageYOffset || 0;
        const y = sc * 0.02;
        floatersContainer.style.transform = `translateY(${y}px)`;
      }, {passive:true});
    } else {
      floatersContainer.style.transform = 'none';
    }

    // Prevent floaters from overlapping other major sections:
    // When the tournament swiper enters the viewport (user scrolled down),
    // hide floaters to guarantee they "–Ω–µ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤—ã–π —Å–ª–∞–π–¥".
    const tournamentEl = document.getElementById('mecomSwiper');
    if(tournamentEl){
      const obs = new IntersectionObserver((entries)=>{
        entries.forEach(en=>{
          if(en.isIntersecting){
            // hide floaters
            floatersContainer.classList.add('hidden');
          } else {
            floatersContainer.classList.remove('hidden');
          }
        });
      }, {root:null, threshold: 0.02});
      obs.observe(tournamentEl);
    }

    // reposition on resize
    window.addEventListener('resize', ()=>{ positionFloaters(); }, {passive:true});
    // initial positioning
    positionFloaters();
  })();

  // ----- Hero title typing (respect reduced motion) -----
  (function typeTitle(){
    const el = document.getElementById('hero-title');
    if(!el) return;
    const text = el.textContent.trim();
    el.textContent = '';
    let idx = 0;
    const reduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if(reduce){
      el.textContent = text;
      return;
    }
    function tick(){
      if(idx <= text.length){
        el.textContent = text.slice(0, idx);
        idx++;
        setTimeout(tick, 22);
      } else {
        el.style.borderRight = 'none';
      }
    }
    tick();
  })();

  // ----- form stub (kept simple) -----
  function submitForm(e){
    if(e && e.preventDefault) e.preventDefault();
    const team = (document.querySelector('input[name="team"]') || {}).value || '';
    alert('–ó–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞: ' + (team ? team : '–∫–æ–º–∞–Ω–¥–∞ –±–µ–∑ –∏–º–µ–Ω–∏') + '. –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä—ã —Å–≤—è–∂—É—Ç—Å—è –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ.');
  }

  /* =========================================================
     –†–ò–§: –ª–æ–≥–∏–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –¥–µ–º–æ-–∑–Ω–∞—á–µ–Ω–∏—è - –¥–æ–±–∞–≤–ª–µ–Ω–æ –∏–∑ –∫–æ–¥–∞ 1
     ========================================================= */
  (function initRif(){
    const rifSection = document.querySelector('#rif');
    if(!rifSection) return;

    // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –≤–∫–ª–∞–¥—ã –≤ –†–ò–§ (–ø—É–Ω–∫—Ç—ã)
    const MAX = {
      profit: 400,
      demand: 20,
      supply: 20,
      efficiency: 10,
      market: 20,
      growth: 20
    };

    // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è - –∑–Ω–∞—á–µ–Ω–∏—è —Ñ–∞–∫—Ç–æ—Ä–æ–≤
    const demo = {
      profit: 237,
      demand: 12,
      supply: 10,
      efficiency: 8,
      market: 5,
      growth: 15
    };

    // –ó–Ω–∞—á–µ–Ω–∏–µ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –¥–∏–∞–≥—Ä–∞–º–º–µ
    const LAST_GAME_RIF = 164;

    // Helpers and elements
    const factorEls = document.querySelectorAll('.rif-factor');
    const barEls = document.querySelectorAll('.rif-bar');
    const totalEl = document.querySelector('#rifTotal');
    const totalDonutText = document.querySelector('#totalDonutText');
    const totalRing = document.querySelector('.total-ring');

    // Build factor map (cur & max)
    const factors = {
      profit: { cur: demo.profit, max: MAX.profit },
      demand: { cur: demo.demand, max: MAX.demand },
      supply: { cur: demo.supply, max: MAX.supply },
      efficiency: { cur: demo.efficiency, max: MAX.efficiency },
      market: { cur: demo.market, max: MAX.market },
      growth: { cur: demo.growth, max: MAX.growth }
    };

    // sum points (demo) - —Å—É–º–º–∞ –≤—Å–µ—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤
    const totalPoints = Object.keys(factors).reduce((s,k)=> s + factors[k].cur, 0);

    // Prepare rings: compute circumference and set initial dasharray/dashoffset
    function prepareRings(){
      factorEls.forEach(el=>{
        const ring = el.querySelector('.ring');
        if(!ring) return;
        const r = parseFloat(ring.getAttribute('r')) || 42;
        const circumference = 2 * Math.PI * r;
        ring.style.strokeDasharray = String(circumference);
        ring.style.strokeDashoffset = String(circumference);
      });
    }
    prepareRings();

    // animate routine
    function animateRif(){
      const reduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      // rings & inner numbers
      factorEls.forEach((el, idx)=>{
        const key = el.dataset.factor;
        const f = factors[key];
        if(!f) return;
        const ring = el.querySelector('.ring');
        const textNode = el.querySelector('.ring-value');
        // percentage of factor max (0..100)
        const pct = (f.max > 0) ? Math.round((f.cur / f.max) * 100) : 100;
        // compute circumference from current ring stroke-dasharray
        const dashStr = ring.style.strokeDasharray || ring.getAttribute('stroke-dasharray') || '';
        const circumference = parseFloat(dashStr) || (2 * Math.PI * 42);

        const offset = circumference * (1 - (pct / 100));
        if(reduce){
          ring.style.transition = 'none';
          ring.style.strokeDashoffset = offset;
          if(textNode) textNode.textContent = String(f.cur);
        } else {
          // animate stroke offset
          ring.style.transition = 'stroke-dashoffset 1100ms cubic-bezier(.2,.9,.2,1)';
          // small stagger
          setTimeout(()=> { ring.style.strokeDashoffset = offset; }, idx * 80);
          // animate inner number
          if(textNode){
            const start = performance.now();
            const duration = 900;
            const from = 0;
            (function tick(now){
              const t = Math.min((now - start)/duration, 1);
              const curVal = Math.floor(from + (f.cur - from) * t);
              textNode.textContent = String(curVal);
              if(t < 1) requestAnimationFrame(tick);
              else textNode.textContent = String(f.cur);
            })(performance.now());
          }
        }
      });

      // bars
      barEls.forEach((bar, idx)=>{
        const key = bar.dataset.bar;
        const f = factors[key];
        if(!f) return;
        const fill = bar.querySelector('.bar-fill');
        const countEl = bar.querySelector('[data-count]');
        const pct = Math.round((f.cur / f.max) * 100);
        if(!fill) return;
        if(reduce){
          fill.style.width = pct + '%';
          if(countEl) countEl.textContent = String(f.cur);
        } else {
          setTimeout(()=> { fill.style.width = pct + '%'; }, 60 + idx * 80);
          if(countEl){
            const start = performance.now();
            const duration = 900;
            (function tick(now){
              const t = Math.min((now - start)/duration, 1);
              const curVal = Math.floor(0 + (f.cur - 0) * t);
              countEl.textContent = String(curVal);
              if(t < 1) requestAnimationFrame(tick);
              else countEl.textContent = String(f.cur);
            })(performance.now());
          }
        }
      });

      // total - —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ LAST_GAME_RIF –∫ —Å—É–º–º–µ –≤—Å–µ—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤
      const totalValue = LAST_GAME_RIF;
      const totalPercentage = (LAST_GAME_RIF / totalPoints) * 100;

      if(reduce){
        if(totalEl) totalEl.textContent = String(totalPoints);
        if(totalDonutText) totalDonutText.textContent = String(totalValue);
        if(totalRing) totalRing.style.strokeDashoffset = String(100 - totalPercentage);
      } else {
        if(totalEl){
          const start = performance.now();
          const duration = 1100;
          (function tick(now){
            const t = Math.min((now - start)/duration, 1);
            const curVal = Math.floor(0 + (totalPoints - 0) * t);
            totalEl.textContent = String(curVal);
            if(t < 1) requestAnimationFrame(tick);
            else totalEl.textContent = String(totalPoints);
          })(performance.now());
        }
        if(totalRing){
          totalRing.style.transition = 'stroke-dashoffset 1100ms cubic-bezier(.2,.9,.2,1)';
          setTimeout(()=> totalRing.style.strokeDashoffset = String(100 - totalPercentage), 30);
        }
        if(totalDonutText){
          const start = performance.now();
          const duration = 1100;
          (function tick(now){
            const t = Math.min((now - start)/duration, 1);
            const curVal = Math.floor(0 + (totalValue - 0) * t);
            totalDonutText.textContent = String(curVal);
            if(t < 1) requestAnimationFrame(tick);
            else totalDonutText.textContent = String(totalValue);
          })(performance.now());
        }
      }
    }

    // trigger animation once when in view
    const obs = new IntersectionObserver((entries, o)=>{
      entries.forEach(en=>{
        if(en.isIntersecting){
          animateRif();
          o.unobserve(en.target);
        }
      });
    }, {threshold: 0.18});
    obs.observe(rifSection);

    factorEls.forEach(fe=>{
      fe.tabIndex = 0;
    });
  })();

  /* =========================================================
     –ê–∫–∫–æ—Ä–¥–µ–æ–Ω: –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º/–∑–∞–∫—Ä—ã—Ç–∏–µ–º - –¥–æ–±–∞–≤–ª–µ–Ω–æ –∏–∑ –∫–æ–¥–∞ 1
     ========================================================= */
  (function initAccordion(){
    const accordions = document.querySelectorAll('.accordion');
    if(!accordions.length) return;
    accordions.forEach(acc=>{
      const trigger = acc.querySelector('.trigger');
      const content = acc.querySelector('.content');
      if(!trigger || !content) return;
      // Ensure initial collapsed state
      content.style.maxHeight = '0px';
      content.style.opacity = '0';
      trigger.addEventListener('click', ()=>{
        const open = acc.classList.contains('open');
        if(open){
          // close
          acc.classList.remove('open');
          trigger.setAttribute('aria-expanded', 'false');
          // animate collapse: set explicit height to current, then to 0
          const h = content.scrollHeight;
          content.style.maxHeight = h + 'px';
          // allow the browser to paint
          requestAnimationFrame(()=> {
            content.style.maxHeight = '0px';
            content.style.opacity = '0';
          });
          // remove padding via JS after animation
          setTimeout(()=> { content.style.padding = '0 12px'; }, 320);
        } else {
          // open
          acc.classList.add('open');
          trigger.setAttribute('aria-expanded', 'true');
          // restore padding first so layout includes it
          content.style.padding = '12px';
          const h = content.scrollHeight;
          content.style.maxHeight = h + 'px';
          content.style.opacity = '1';
          // after animation remove maxHeight to allow internal changes (optional)
          setTimeout(()=> { content.style.maxHeight = 'none'; }, 400);
        }
      });
    });
  })();

  /* ===========================================================
     MECOM BRACKET ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç—É—Ä–Ω–∏—Ä–Ω–æ–π —Å–µ—Ç–∫–∏
     ============================================================ */
  (function(){
    const qs = (s, r=document) => r.querySelector(s);
    const qsa = (s, r=document) => Array.from((r||document).querySelectorAll(s));

    const RENDER_OPTIONS = { keepEmptySlots: false };

    const TOURNAMENT_DATA = [
      {
        name: "–û—Ç–±–æ—Ä–æ—á–Ω—ã–µ",
        packs: [
          {
            title: "–ü–∞—á–∫–∞ A ‚Äî 7 –∫–ª–∞—Å—Å",
            teams: [
              { name: "–ê–ª—å—Ñ–∞", grade: "7", branch: "–°–µ–≤–µ—Ä" },
              { name: "–ë–µ—Ç–∞",  grade: "7", branch: "–Æ–≥" },
              { name: "–ì–∞–º–º–∞", grade: "7", branch: "–°–µ–≤–µ—Ä" },
              { name: "–î–µ–ª—å—Ç–∞", grade: "7", branch: "–Æ–≥" },
              { name: "–≠–ø—Å–∏–ª–æ–Ω", grade: "7", branch: "–°–µ–≤–µ—Ä" },
              { name: "–î–∑–µ—Ç–∞", grade: "7", branch: "–Æ–≥" }
            ],
            winnerIndex: [0,1]
          },
          {
            title: "–ü–∞—á–∫–∞ B ‚Äî 8 –∫–ª–∞—Å—Å",
            teams: [
              { name: "–≠—Ç–∞", grade: "8", branch: "–°–µ–≤–µ—Ä" },
              { name: "–¢–µ—Ç–∞", grade: "8", branch: "–Æ–≥" },
              { name: "–ô–æ—Ç–∞", grade: "8", branch: "–°–µ–≤–µ—Ä" },
              { name: "–ö–∞–ø–ø–∞", grade: "8", branch: "–Æ–≥" },
              { name: "–õ—è–º–±–¥–∞", grade: "8", branch: "–°–µ–≤–µ—Ä" },
              { name: "–ú—é", grade: "8", branch: "–Æ–≥" }
            ],
            winnerIndex: [0,2]
          },
          {
            title: "–ü–∞—á–∫–∞ C ‚Äî 9 –∫–ª–∞—Å—Å",
            teams: [
              { name: "–ù—é", grade: "9", branch: "–°–µ–≤–µ—Ä" },
              { name: "–ö—Å–∏", grade: "9", branch: "–Æ–≥" },
              { name: "–û–º–∏–∫—Ä–æ–Ω", grade: "9", branch: "–°–µ–≤–µ—Ä" },
              { name: "–ü–∏", grade: "9", branch: "–Æ–≥" },
              { name: "–†–æ", grade: "9", branch: "–°–µ–≤–µ—Ä" },
              { name: "–°–∏–≥–º–∞", grade: "9", branch: "–Æ–≥" }
            ],
            winnerIndex: [4,5]
          },
          {
            title: "–ü–∞—á–∫–∞ C ‚Äî 10 –∏ 11 –∫–ª–∞—Å—Å",
            teams: [
              { name: "–¢–∞—É", grade: "10", branch: "–°–µ–≤–µ—Ä" },
              { name: "–ò–ø—Å–∏–ª–æ–Ω", grade: "10", branch: "–Æ–≥" },
              { name: "–§–∏", grade: "10", branch: "–°–µ–≤–µ—Ä" },
              { name: "–•–∏", grade: "10", branch: "–Æ–≥" },
              { name: "–ü—Å–∏", grade: "11", branch: "–°–µ–≤–µ—Ä" },
              { name: "–û–º–µ–≥–∞", grade: "11", branch: "–Æ–≥" }
            ],
            winnerIndex: [0,5]
          }
        ]
      },
      {
        name: "–í—Ç–æ—Ä–∞—è —Å—Ç–∞–¥–∏—è",
        packs: [
          {
            title: "–ü–∞—á–∫–∞ D ‚Äî 78 —Ä–µ–≥–∏–æ–Ω",
            teams: [
              { name: "–ê–ª—å—Ñ–∞", grade: "7", branch: "–°–µ–≤–µ—Ä" },
              { name: "–ë–µ—Ç–∞",  grade: "7", branch: "–Æ–≥" },
              { name: "–≠—Ç–∞", grade: "8", branch: "–°–µ–≤–µ—Ä" },
              { name: "–ô–æ—Ç–∞", grade: "8", branch: "–°–µ–≤–µ—Ä" }
            ],
            winnerIndex: [0,3]
          },
          {
            title: "–ü–∞—á–∫–∞ E ‚Äî 9,10 –∏ 11 –∫–ª–∞—Å—Å—ã",
            teams: [
              { name: "–†–æ", grade: "9", branch: "–°–µ–≤–µ—Ä" },
              { name: "–°–∏–≥–º–∞", grade: "9", branch: "–Æ–≥" },
              { name: "–¢–∞—É", grade: "10", branch: "–°–µ–≤–µ—Ä" },
              { name: "–û–º–µ–≥–∞", grade: "11", branch: "–Æ–≥" }
            ],
            winnerIndex: [1,3]
          }
        ]
      },
      {
        name: "–ü–æ–ª—É—Ñ–∏–Ω–∞–ª",
        packs: [
          {
            title: "–ü–∞—á–∫–∞ F ‚Äì 78 —Ä–µ–≥–∏–æ–Ω",
            teams: [
              { name: "–ê–ª—å—Ñ–∞", grade: "7", branch: "–°–µ–≤–µ—Ä" },
              { name: "–ô–æ—Ç–∞", grade: "8", branch: "–°–µ–≤–µ—Ä" }
            ],
            winnerIndex: [0]
          },
          {
            title: "–ü–∞—á–∫–∞ G",
            teams: [
              { name: "–°–∏–≥–º–∞", grade: "9", branch: "–Æ–≥" },
              { name: "–û–º–µ–≥–∞", grade: "11", branch: "–Æ–≥" }
            ],
            winnerIndex: [1]
          }
        ]
      },
      {
        name: "–§–∏–Ω–∞–ª",
        winnerchamp: { pack: 0, index: 0 },
        packs: [
          {
            title: "–§–∏–Ω–∞–ª—å–Ω–∞—è –ø–∞—á–∫–∞",
            teams: [
              { name: "–ê–ª—å—Ñ–∞", grade: "7", branch: "–°–µ–≤–µ—Ä" },
              { name: "–û–º–µ–≥–∞", grade: "11", branch: "–Æ–≥" }
            ]
          }
        ]
      }
    ];

    function deepCopy(obj){ return JSON.parse(JSON.stringify(obj)); }
    function prepareRenderData(src){ return deepCopy(src); }

    const ROOT = qs('#mecom-bracket');
    if(!ROOT){
      console.warn('[MECOM] #mecom-bracket not found ‚Äî —Å–µ—Ç–∫–∞ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
      return;
    }
    const navEl = qs('#mecomRoundsNav', ROOT);
    const swiper = qs('#mecomSwiper', ROOT);
    const track = qs('#mecomSwiperTrack', ROOT);
    const dotsEl = qs('#mecomDots', ROOT);

    const STORAGE_KEY = ROOT.getAttribute('data-storage-key') || 'mecom_bracket_state_vX';
    const AUTO_SEED = (ROOT.getAttribute('data-auto-seed') || 'true') === 'true';

    let renderData = prepareRenderData(TOURNAMENT_DATA);

    function renderNav(activeIdx=0){
      navEl.innerHTML = '';
      renderData.forEach((r, idx)=>{
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'mecom-chip' + (idx === activeIdx ? ' is-active' : '');
        btn.textContent = r.name || `–†–∞—É–Ω–¥ ${idx+1}`;
        btn.addEventListener('click', ()=> goTo(idx));
        navEl.appendChild(btn);
      });
    }

    function renderDots(activeIdx=0){
      dotsEl.innerHTML = '';
      renderData.forEach((_, idx)=>{
        const d = document.createElement('div');
        d.className = 'mecom-dot' + (idx === activeIdx ? ' is-active' : '');
        d.addEventListener('click', ()=> goTo(idx));
        dotsEl.appendChild(d);
      });
    }

    function renderSlides(){
      track.innerHTML = '';
      renderData.forEach((round, rIndex)=>{
        const slide = document.createElement('div');
        slide.className = 'mecom-slide fade-in';

        const title = document.createElement('div');
        title.className = 'mecom-round-title';
        const left = document.createElement('div'); left.textContent = round.name || `–†–∞—É–Ω–¥ ${rIndex+1}`;
        title.appendChild(left);
        slide.appendChild(title);

        (round.packs || []).forEach((pack, pIndex)=>{
          const packEl = document.createElement('div');
          packEl.className = 'pack';

          const packTitle = document.createElement('div');
          packTitle.className = 'pack-title';
          packTitle.textContent = pack.title || `–ü–∞—á–∫–∞ ${pIndex+1}`;
          packEl.appendChild(packTitle);

          const contents = document.createElement('div'); contents.className = 'pack-contents';

          (pack.teams || []).forEach((team, tIndex)=>{
            if(!team || !team.name){
              if(RENDER_OPTIONS.keepEmptySlots){
                const teamEl = document.createElement('div');
                teamEl.className = 'mecom-team empty-slot placeholder';
                const leftBlock = document.createElement('div'); leftBlock.className = 'left';
                const rightBlock = document.createElement('div'); rightBlock.className = 'name-wrap';
                const nameDiv = document.createElement('div'); nameDiv.className = 'team-name';
                nameDiv.textContent = '(–ø—É—Å—Ç–æ)';
                rightBlock.appendChild(nameDiv);
                teamEl.appendChild(leftBlock);
                teamEl.appendChild(rightBlock);
                contents.appendChild(teamEl);
              }
              return;
            }

            const teamEl = document.createElement('div');
            teamEl.className = 'mecom-team';

            if(typeof pack.winnerIndex === 'number' && pack.winnerIndex === tIndex) teamEl.classList.add('winner');
            else if(Array.isArray(pack.winnerIndex) && pack.winnerIndex.includes(tIndex)) teamEl.classList.add('winner');

            const isChampion =
              (typeof pack.winnerchampIndex === 'number' && pack.winnerchampIndex === tIndex)
              || (round && round.winnerchamp && round.winnerchamp.pack === pIndex && round.winnerchamp.index === tIndex);

            if(isChampion){
              teamEl.classList.add('champion');
              teamEl.classList.remove('winner');
            }

            const leftBlock = document.createElement('div'); leftBlock.className = 'left';
            if(!(team && team.noDescription)){
              const cls = document.createElement('span'); cls.className = 'mecom-tag mecom-tag-grade';
              cls.textContent = team && team.grade ? `${team.grade} –∫–ª–∞—Å—Å` : '';
              const br = document.createElement('span');
              let branchClass = '';
              if(team && team.branch){
                const b = String(team.branch).toLowerCase();
                if(b.includes('—Å–µ–≤–µ—Ä')) branchClass = 'mecom-tag-north';
                else if(b.includes('—é–≥')) branchClass = 'mecom-tag-south';
                else if(b.includes('–≤–æ—Å—Ç')) branchClass = 'mecom-tag-east';
                else if(b.includes('–∑–∞–ø')) branchClass = 'mecom-tag-west';
                else branchClass = 'mecom-tag-north';
              }
              br.className = 'mecom-tag ' + branchClass;
              br.textContent = team && team.branch ? team.branch : '';
              leftBlock.appendChild(cls);
              leftBlock.appendChild(br);
            }

            const rightBlock = document.createElement('div'); rightBlock.className = 'name-wrap';
            const nameDiv = document.createElement('div'); nameDiv.className = 'team-name';
            nameDiv.textContent = team && team.name ? team.name : '(–ø—É—Å—Ç–æ)';
            rightBlock.appendChild(nameDiv);

            if(team && team._promotedFrom && team._showPromoted && !(team.noDescription)){
              const note = document.createElement('div');
              note.className = 'promoted-note';
              note.textContent = `–ø—Ä–æ—Ö–æ–¥–∏—Ç –∏–∑: ${team._promotedFrom.roundName} ¬∑ ${team._promotedFrom.packTitle}`;
              rightBlock.appendChild(note);
            }

            teamEl.appendChild(leftBlock);
            teamEl.appendChild(rightBlock);
            contents.appendChild(teamEl);
          });

          packEl.appendChild(contents);
          slide.appendChild(packEl);
        });

        track.appendChild(slide);
      });

      // trigger fade-ins (post DOM insert)
      requestAnimationFrame(()=> {
        qsa('.mecom-slide.fade-in', track).forEach(el => el.classList.add('show'));
        setTimeout(()=> updateHeightForSlide(current), 30);
      });
    }

    let current = 0;
    let startX = 0, startY = 0, curX = 0;
    let dragging = false;
    let width = 0;
    let lastMoveAt = 0;

    function setTranslate(px, withAnim=true){
      track.style.transition = withAnim ? 'transform .26s ease' : 'none';
      track.style.transform = `translate3d(${px}px,0,0)`;
    }

    function updateWidth(){ width = swiper.clientWidth || 1; }
    window.addEventListener('resize', ()=>{ updateWidth(); setTranslate(-current*width, false); updateHeightForSlide(current); });

    function updateHeightForSlide(i){
      const slide = track.children[i];
      if(!slide){
        swiper.style.height = '120px';
        return;
      }
      const rect = slide.getBoundingClientRect();
      const h = Math.ceil(rect.height);
      const minH = 80;
      swiper.style.height = (Math.max(h, minH)) + 'px';
    }

    function goTo(i){
      current = Math.max(0, Math.min(i, renderData.length-1));
      setTranslate(-current*width, true);
      setTimeout(()=> updateHeightForSlide(current), 120);
      const chips = navEl.querySelectorAll('.mecom-chip');
      chips.forEach((c, idx)=> c.classList.toggle('is-active', idx===current));
      const dots = dotsEl.querySelectorAll('.mecom-dot');
      dots.forEach((d, idx)=> d.classList.toggle('is-active', idx===current));
    }

    function onStart(e){
      const touch = e.touches ? e.touches[0] : e;
      startX = touch.clientX;
      startY = touch.clientY;
      curX = startX;
      dragging = true;
      lastMoveAt = performance.now();
      track.style.transition = 'none';
    }
    function onMove(e){
      if(!dragging) return;
      const touch = e.touches ? e.touches[0] : e;
      const dx = touch.clientX - startX;
      const dy = touch.clientY - startY;
      if(Math.abs(dy) > Math.abs(dx)){ dragging = false; setTranslate(-current*width, false); return; }
      e.preventDefault();
      curX = touch.clientX;
      const base = -current * width;
      setTranslate(base + dx, false);
      lastMoveAt = performance.now();
    }
    function onEnd(){
      if(!dragging) return;
      dragging = false;
      const dx = (curX || startX) - startX;
      const dt = Math.max(1, performance.now() - lastMoveAt);
      const velocity = Math.abs(dx)/dt;
      const threshold = width * 0.18;
      if(dx < -threshold || (dx < -10 && velocity > 0.6)) goTo(current + 1);
      else if(dx > threshold || (dx > 10 && velocity > 0.6)) goTo(current - 1);
      else goTo(current);
    }

    function attachSwipe(){
      updateWidth();
      updateHeightForSlide(current);
      swiper.addEventListener('touchstart', onStart, {passive:true});
      swiper.addEventListener('touchmove',  onMove,  {passive:false});
      swiper.addEventListener('touchend',   onEnd,   {passive:true});
      swiper.addEventListener('mousedown', (e)=>{ e.preventDefault(); onStart(e); });
      window.addEventListener('mousemove', onMove);
      window.addEventListener('mouseup', onEnd);
    }

    function saveState(obj){
      try{ localStorage.setItem(STORAGE_KEY, JSON.stringify(obj)); }catch(e){}
    }
    function loadState(){
      try{
        const raw = localStorage.getItem(STORAGE_KEY);
        if(!raw) return null;
        return JSON.parse(raw);
      }catch(e){ return null; }
    }

    function renderAll(){
      renderSlides();
      renderNav(current);
      renderDots(current);
      setTranslate(-current*width, false);
      updateHeightForSlide(current);
    }

    function init(){
      const saved = loadState();
      if(saved && Array.isArray(saved)){
        renderData = saved;
      }else if(saved && saved.rounds){
        renderData = Array.isArray(saved.rounds) ? saved.rounds.map(r=>{
          return { name: r.name, packs: [ { title: '–°–ª–æ—Ç—ã', teams: (r.teams||[]).map(t=>({name:t})) } ] };
        }) : prepareRenderData(TOURNAMENT_DATA);
      } else {
        renderData = prepareRenderData(TOURNAMENT_DATA);
      }

      renderAll();
      attachSwipe();

      // Expose debug API
      window.MECOM_BRACKET_V2 = {
        getState: ()=> deepCopy(renderData),
        setState: (obj)=>{ if(Array.isArray(obj)){ renderData = deepCopy(obj); saveState(renderData); renderAll(); } },
        resetDefaults: ()=> { renderData = prepareRenderData(TOURNAMENT_DATA); saveState(renderData); renderAll(); }
      };
    }

    init();

  })(); // end bracket IIFE

</script>
</body>

